const countActionsContainers=document.querySelectorAll("[data-fls-countactions]");countActionsContainers.forEach(u=>{const n=u.querySelector("[data-count-quantity]"),s=u.querySelector("[data-count-plus]"),i=u.querySelector("[data-count-minus]");if(!n||!s||!i)return;function r(){const t=parseInt(n.value)||1;return Math.max(1,t)}function c(t){const e=Math.max(1,parseInt(t)||1),a=parseInt(n.getAttribute("max"))||99;n.value=Math.min(e,a)}s.addEventListener("click",function(t){t.preventDefault();const e=r(),a=parseInt(n.getAttribute("max"))||99;e<a&&c(e+1)}),i.addEventListener("click",function(t){t.preventDefault();const e=r();e>1&&c(e-1)}),n.addEventListener("keydown",function(t){["Backspace","Delete","Tab","Escape","Enter","ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].includes(t.key)||/^\d$/.test(t.key)||t.preventDefault()}),n.addEventListener("input",function(){this.value=this.value.replace(/[^\d]/g,"");const t=parseInt(this.value)||1,e=parseInt(this.getAttribute("min"))||1,a=parseInt(this.getAttribute("max"))||999;t<e&&(this.value=e),t>a&&(this.value=a)}),n.addEventListener("blur",function(){(!this.value||parseInt(this.value)<1)&&(this.value=1)})});
