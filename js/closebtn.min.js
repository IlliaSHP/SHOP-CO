import{c as w,d as O,f as S,h as E,e as L,i as T,b as _,j as b,k as C,u as q}from"./common.min.js";function W(){const i=document.querySelectorAll("[data-fls-tabs]");let t=[];if(i.length>0){const l=w();l&&l.startsWith("tab-")&&(t=l.replace("tab-","").split("-")),i.forEach((s,u)=>{s.classList.add("--tab-init"),s.setAttribute("data-fls-tabs-index",u),s.addEventListener("click",f),o(s)});let n=O(i,"flsTabs");n&&n.length&&n.forEach(s=>{s.matchMedia.addEventListener("change",function(){e(s.itemsArray,s.matchMedia)}),e(s.itemsArray,s.matchMedia)})}function e(l,n){l.forEach(s=>{s=s.item;let u=s.querySelector("[data-fls-tabs-titles]"),r=s.querySelectorAll("[data-fls-tabs-title]"),c=s.querySelector("[data-fls-tabs-body]"),d=s.querySelectorAll("[data-fls-tabs-item]");r=Array.from(r).filter(h=>h.closest("[data-fls-tabs]")===s),d=Array.from(d).filter(h=>h.closest("[data-fls-tabs]")===s),d.forEach((h,p)=>{n.matches?(c.append(r[p]),c.append(h),s.classList.add("--tab-spoller")):(u.append(r[p]),s.classList.remove("--tab-spoller"))})})}function o(l){let n=l.querySelectorAll("[data-fls-tabs-titles]>*"),s=l.querySelectorAll("[data-fls-tabs-body]>*");const u=l.dataset.flsTabsIndex,r=t[0]==u;if(r){const c=l.querySelector("[data-fls-tabs-titles]>.--tab-active");c&&c.classList.remove("--tab-active")}s.length&&s.forEach((c,d)=>{n[d].setAttribute("data-fls-tabs-title",""),c.setAttribute("data-fls-tabs-item",""),r&&d==t[1]&&n[d].classList.add("--tab-active"),c.hidden=!n[d].classList.contains("--tab-active")})}function a(l){let n=l.querySelectorAll("[data-fls-tabs-title]"),s=l.querySelectorAll("[data-fls-tabs-item]");const u=l.dataset.flsTabsIndex;function r(d){if(d.hasAttribute("data-fls-tabs-animate"))return d.dataset.flsTabsAnimate>0?Number(d.dataset.flsTabsAnimate):500}const c=r(l);if(s.length>0){const d=l.hasAttribute("data-fls-tabs-hash");s=Array.from(s).filter(h=>h.closest("[data-fls-tabs]")===l),n=Array.from(n).filter(h=>h.closest("[data-fls-tabs]")===l),s.forEach((h,p)=>{n[p].classList.contains("--tab-active")?(c?S(h,c):h.hidden=!1,d&&!h.closest(".popup")&&E(`tab-${u}-${p}`)):c?L(h,c):h.hidden=!0})}}function f(l){const n=l.target;if(n.closest("[data-fls-tabs-title]")){const s=n.closest("[data-fls-tabs-title]"),u=s.closest("[data-fls-tabs]");if(!s.classList.contains("--tab-active")&&!u.querySelector(".--slide")){let r=u.querySelectorAll("[data-fls-tabs-title].--tab-active");r.length&&(r=Array.from(r).filter(c=>c.closest("[data-fls-tabs]")===u)),r.length&&r[0].classList.remove("--tab-active"),s.classList.add("--tab-active"),a(u)}l.preventDefault()}}}window.addEventListener("load",W);class H{constructor(t){let e={logging:!0,init:!0,attributeOpenButton:"data-fls-popup-link",attributeCloseButton:"data-fls-popup-close",fixElementSelector:"[data-fls-lp]",attributeMain:"data-fls-popup",youtubeAttribute:"data-fls-popup-youtube",youtubePlaceAttribute:"data-fls-popup-youtube-place",setAutoplayYoutube:!0,classes:{popup:"popup",popupContent:"data-fls-popup-body",popupActive:"data-fls-popup-active",bodyActive:"data-fls-popup-open"},focusCatch:!0,closeEsc:!0,bodyLock:!0,hashSettings:{location:!0,goHash:!0},on:{beforeOpen:function(){},afterOpen:function(){},beforeClose:function(){},afterClose:function(){}}};this.youTubeCode,this.isOpen=!1,this.targetOpen={selector:!1,element:!1},this.previousOpen={selector:!1,element:!1},this.lastClosed={selector:!1,element:!1},this._dataValue=!1,this.hash=!1,this._reopen=!1,this._selectorOpen=!1,this.lastFocusEl=!1,this._focusEl=["a[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"button:not([disabled]):not([aria-hidden])","select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","area[href]","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],this.options={...e,...t,classes:{...e.classes,...t?.classes},hashSettings:{...e.hashSettings,...t?.hashSettings},on:{...e.on,...t?.on}},this.bodyLock=!1,this.options.init&&this.initPopups()}initPopups(){this.buildPopup(),this.eventsPopup()}buildPopup(){}eventsPopup(){document.addEventListener("click",(function(t){const e=t.target.closest(`[${this.options.attributeOpenButton}]`);if(e){if(t.preventDefault(),this._dataValue=e.getAttribute(this.options.attributeOpenButton)?e.getAttribute(this.options.attributeOpenButton):"error",this.youTubeCode=e.getAttribute(this.options.youtubeAttribute)?e.getAttribute(this.options.youtubeAttribute):null,this._dataValue!=="error"){this.isOpen||(this.lastFocusEl=e),this.targetOpen.selector=`${this._dataValue}`,this._selectorOpen=!0,this.open();return}return}if(t.target.closest(`[${this.options.attributeCloseButton}]`)||!t.target.closest(`[${this.options.classes.popupContent}]`)&&this.isOpen){t.preventDefault(),this.close();return}}).bind(this)),document.addEventListener("keydown",(function(t){if(this.options.closeEsc&&t.which==27&&t.code==="Escape"&&this.isOpen){t.preventDefault(),this.close();return}if(this.options.focusCatch&&t.which==9&&this.isOpen){this._focusCatch(t);return}}).bind(this)),this.options.hashSettings.goHash&&(window.addEventListener("hashchange",(function(){window.location.hash?this._openToHash():this.close(this.targetOpen.selector)}).bind(this)),window.location.hash&&this._openToHash())}open(t){if(b&&(this.bodyLock=!!(document.documentElement.hasAttribute("data-fls-scrolllock")&&!this.isOpen),t&&typeof t=="string"&&t.trim()!==""&&(this.targetOpen.selector=t,this._selectorOpen=!0),this.isOpen&&(this._reopen=!0,this.close()),this._selectorOpen||(this.targetOpen.selector=this.lastClosed.selector),this._reopen||(this.previousActiveElement=document.activeElement),this.targetOpen.element=document.querySelector(`[${this.options.attributeMain}=${this.targetOpen.selector}]`),this.targetOpen.element)){const e=this.youTubeCode||this.targetOpen.element.getAttribute(`${this.options.youtubeAttribute}`);if(e){const o=`https://www.youtube.com/embed/${e}?rel=0&showinfo=0&autoplay=1`,a=document.createElement("iframe"),f=this.options.setAutoplayYoutube?"autoplay;":"";a.setAttribute("allowfullscreen",""),a.setAttribute("allow",`${f}; encrypted-media`),a.setAttribute("src",o),this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`)||this.targetOpen.element.querySelector("[data-fls-popup-content]").setAttribute(`${this.options.youtubePlaceAttribute}`,""),this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`).appendChild(a)}this.options.hashSettings.location&&(this._getHash(),this._setHash()),this.options.on.beforeOpen(this),document.dispatchEvent(new CustomEvent("beforePopupOpen",{detail:{popup:this}})),this.targetOpen.element.setAttribute(this.options.classes.popupActive,""),document.documentElement.setAttribute(this.options.classes.bodyActive,""),this._reopen?this._reopen=!1:this.bodyLock||T(),this.targetOpen.element.setAttribute("aria-hidden","false"),this.previousOpen.selector=this.targetOpen.selector,this.previousOpen.element=this.targetOpen.element,this._selectorOpen=!1,this.isOpen=!0,setTimeout(()=>{this._focusTrap()},50),this.options.on.afterOpen(this),document.dispatchEvent(new CustomEvent("afterPopupOpen",{detail:{popup:this}}))}}close(t){t&&typeof t=="string"&&t.trim()!==""&&(this.previousOpen.selector=t),!(!this.isOpen||!b)&&(this.options.on.beforeClose(this),document.dispatchEvent(new CustomEvent("beforePopupClose",{detail:{popup:this}})),this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`)&&setTimeout(()=>{this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`).innerHTML=""},500),this.previousOpen.element.removeAttribute(this.options.classes.popupActive),this.previousOpen.element.setAttribute("aria-hidden","true"),this._reopen||(document.documentElement.removeAttribute(this.options.classes.bodyActive),this.bodyLock||_(),this.isOpen=!1),this._removeHash(),this._selectorOpen&&(this.lastClosed.selector=this.previousOpen.selector,this.lastClosed.element=this.previousOpen.element),this.options.on.afterClose(this),document.dispatchEvent(new CustomEvent("afterPopupClose",{detail:{popup:this}})),setTimeout(()=>{this._focusTrap()},50))}_getHash(){this.options.hashSettings.location&&(this.hash=`#${this.targetOpen.selector}`)}_openToHash(){let t=window.location.hash.replace("#","");const e=document.querySelector(`[${this.options.attributeOpenButton}="${t}"]`);e&&(this.youTubeCode=e.getAttribute(this.options.youtubeAttribute)?e.getAttribute(this.options.youtubeAttribute):null),t&&this.open(t)}_setHash(){history.pushState("","",this.hash)}_removeHash(){history.pushState("","",window.location.href.split("#")[0])}_focusCatch(t){const e=this.targetOpen.element.querySelectorAll(this._focusEl),o=Array.prototype.slice.call(e),a=o.indexOf(document.activeElement);t.shiftKey&&a===0&&(o[o.length-1].focus(),t.preventDefault()),!t.shiftKey&&a===o.length-1&&(o[0].focus(),t.preventDefault())}_focusTrap(){const t=this.previousOpen.element.querySelectorAll(this._focusEl);!this.isOpen&&this.lastFocusEl?this.lastFocusEl.focus():t[0].focus()}}document.querySelector("[data-fls-popup]")&&window.addEventListener("load",()=>window.flsPopup=new H({}));function P(){document.addEventListener("click",function(i){b&&i.target.closest("[data-fls-menu]")&&(C(),document.documentElement.toggleAttribute("data-fls-menu-open"))})}document.querySelector("[data-fls-menu]")&&window.addEventListener("load",P);const g=document.querySelector(".togle-nav-header-bottom__button"),m=document.querySelector(".header-bottom");g&&m?g.addEventListener("click",function(){m.classList.toggle("header-bottom--show")}):(g||console.log("\u0415\u043B\u0435\u043C\u0435\u043D\u0442 .togle-nav-header-bottom__button \u043D\u0435 \u0437\u043D\u0430\u0439\u0434\u0435\u043D\u043E"),m||console.log("\u0415\u043B\u0435\u043C\u0435\u043D\u0442 .header-bottom \u043D\u0435 \u0437\u043D\u0430\u0439\u0434\u0435\u043D\u043E"));const y=document.querySelector(".header__search-icon"),v=document.querySelector(".header__search-input"),A=document.querySelector(".header__search");y&&v&&A&&(y.addEventListener("click",function(){v.classList.toggle("input-active")}),document.addEventListener("click",function(i){A.contains(i.target)||v.classList.remove("input-active")}));function $(){const i=document.querySelector("[data-fls-header-scroll]"),t=i.hasAttribute("data-fls-header-scroll-show"),e=i.dataset.flsHeaderScrollShow?i.dataset.flsHeaderScrollShow:500,o=i.dataset.flsHeaderScroll?i.dataset.flsHeaderScroll:1;let a=0,f;document.addEventListener("scroll",function(l){const n=window.scrollY;clearTimeout(f),n>=o?(i.classList.contains("--header-scroll")||i.classList.add("--header-scroll"),t&&(n>a?i.classList.contains("--header-show")&&i.classList.remove("--header-show"):i.classList.contains("--header-show")||i.classList.add("--header-show"),f=setTimeout(()=>{i.classList.contains("--header-show")||i.classList.add("--header-show")},e))):(i.classList.contains("--header-scroll")&&i.classList.remove("--header-scroll"),t&&i.classList.contains("--header-show")&&i.classList.remove("--header-show")),a=n<=0?0:n})}document.querySelector("[data-fls-header-scroll]")&&window.addEventListener("load",$);class k{constructor(t){let e={logging:!0};this.config=Object.assign(e,t),this.observer,document.documentElement.hasAttribute("data-fls-watch")||this.scrollWatcherRun()}scrollWatcherUpdate(){this.scrollWatcherRun()}scrollWatcherRun(){document.documentElement.setAttribute("data-fls-watch",""),this.scrollWatcherConstructor(document.querySelectorAll("[data-fls-watcher]"))}scrollWatcherConstructor(t){t.length&&q(Array.from(t).map(function(o){if(o.dataset.flsWatcher==="navigator"&&!o.dataset.flsWatcherThreshold){let a;o.clientHeight>2?(a=window.innerHeight/2/(o.clientHeight-1),a>1&&(a=1)):a=1,o.setAttribute("data-fls-watcher-threshold",a.toFixed(2))}return`${o.dataset.flsWatcherRoot?o.dataset.flsWatcherRoot:null}|${o.dataset.flsWatcherMargin?o.dataset.flsWatcherMargin:"0px"}|${o.dataset.flsWatcherThreshold?o.dataset.flsWatcherThreshold:0}`})).forEach(o=>{let a=o.split("|"),f={root:a[0],margin:a[1],threshold:a[2]},l=Array.from(t).filter(function(s){let u=s.dataset.flsWatcherRoot?s.dataset.flsWatcherRoot:null,r=s.dataset.flsWatcherMargin?s.dataset.flsWatcherMargin:"0px",c=s.dataset.flsWatcherThreshold?s.dataset.flsWatcherThreshold:0;if(String(u)===f.root&&String(r)===f.margin&&String(c)===f.threshold)return s}),n=this.getScrollWatcherConfig(f);this.scrollWatcherInit(l,n)})}getScrollWatcherConfig(t){let e={};if(document.querySelector(t.root)?e.root=document.querySelector(t.root):t.root,e.rootMargin=t.margin,!(t.margin.indexOf("px")<0&&t.margin.indexOf("%")<0)){if(t.threshold==="prx"){t.threshold=[];for(let o=0;o<=1;o+=.005)t.threshold.push(o)}else t.threshold=t.threshold.split(",");return e.threshold=t.threshold,e}}scrollWatcherCreate(t){this.observer=new IntersectionObserver((e,o)=>{e.forEach(a=>{this.scrollWatcherCallback(a,o)})},t)}scrollWatcherInit(t,e){this.scrollWatcherCreate(e),t.forEach(o=>this.observer.observe(o))}scrollWatcherIntersecting(t,e){t.isIntersecting?e.classList.contains("--watcher-view")||e.classList.add("--watcher-view"):e.classList.contains("--watcher-view")&&e.classList.remove("--watcher-view")}scrollWatcherOff(t,e){e.unobserve(t)}scrollWatcherCallback(t,e){const o=t.target;this.scrollWatcherIntersecting(t,o),o.hasAttribute("data-fls-watcher-once")&&t.isIntersecting&&this.scrollWatcherOff(o,e),document.dispatchEvent(new CustomEvent("watcherCallback",{detail:{entry:t}}))}}document.querySelector("[data-fls-watcher]")&&window.addEventListener("load",()=>new k({}));
